{
	# Email usado por Let's Encrypt (ACME)
	email {$ACME_EMAIL}

	# Recomendado para producci칩n
	# (Caddy maneja los certificados autom치ticamente)
}

{$DOMAIN} {
	encode gzip zstd

	# Limita tama침o del body (HTML grande) antes de llegar a la app
	request_body {
		max_size {$PROXY_MAX_BODY}
	}

	# Headers b치sicos
	header {
		-Server
		X-Content-Type-Options "nosniff"
		Referrer-Policy "no-referrer"
	}

	# Proxy a la API interna
	reverse_proxy pdf-api:8000 {
		transport http {
			read_timeout {$PROXY_READ_TIMEOUT}
			write_timeout {$PROXY_WRITE_TIMEOUT}
		}
	}
}
