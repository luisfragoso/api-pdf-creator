# Copia este archivo a .env (NO lo subas al repositorio)
# Ejemplo: cp .env.example .env

# Nombre del proyecto para Docker Compose (afecta nombres de contenedores/redes)
COMPOSE_PROJECT_NAME=api-pdf-creator

# Dominio/subdominio público donde se expondrá la API (Caddy usará Let's Encrypt)
# Ej: pdf.tudominio.com
DOMAIN=pdf.tudominio.com

# Email para Let's Encrypt (ACME)
ACME_EMAIL=tu-correo@tudominio.com

# Límites del proxy (antes de llegar a la app)
# Ejemplos: 2MB, 5MB, 10MB
PROXY_MAX_BODY=5MB

# Timeouts del proxy
PROXY_READ_TIMEOUT=30s
PROXY_WRITE_TIMEOUT=30s

# Nivel de logs de la API (INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Tokens separados por coma.
# Tokens normales: pueden generar PDF, pero NO pueden cargar recursos remotos (http/https).
PDF_API_KEYS=client-token-1,client-token-2

# Tokens con permiso para recursos remotos.
# Reglas: solo HTTPS + solo hosts en ALLOWED_REMOTE_HOSTS + bloqueo de IPs privadas/localhost.
PDF_REMOTE_API_KEYS=remote-token-1

# Lista de hosts permitidos para recursos remotos (sin esquema, sin paths), separados por coma.
# Ej: cdn.tudominio.com,images.tudominio.com
ALLOWED_REMOTE_HOSTS=cdn.tudominio.com,images.tudominio.com

# Límite máximo de tamaño del HTML (bytes). 2000000 ~ 2MB
MAX_HTML_BYTES=2000000

# Timeout de generación de PDF a nivel aplicación
RENDER_TIMEOUT_SECONDS=30

# Concurrencia interna (threads) para generar PDFs y jobs
WORKERS=2

# Rate limit por token (requests por minuto). 0 desactiva.
RATE_LIMIT_NORMAL_PER_MIN=60
RATE_LIMIT_REMOTE_PER_MIN=20

# TTL de jobs en memoria (segundos). 0 desactiva limpieza automática.
JOBS_TTL_SECONDS=900
